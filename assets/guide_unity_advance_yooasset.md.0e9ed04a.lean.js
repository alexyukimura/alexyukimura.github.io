import{_ as a,o as n,c as l,N as o}from"./chunks/framework.295b9ee3.js";const A=JSON.parse('{"title":"YooAsset 简介","description":"","frontmatter":{},"headers":[],"relativePath":"guide/unity/advance/yooasset.md","lastUpdated":null}'),p={name:"guide/unity/advance/yooasset.md"};function e(t,s,r,c,i,D){return n(),l("div",null,s[0]||(s[0]=[o(`<h1 id="yooasset-简介" tabindex="-1">YooAsset 简介 <a class="header-anchor" href="#yooasset-简介" aria-label="Permalink to &quot;YooAsset 简介&quot;">​</a></h1><h2 id="什么是-yooasset" tabindex="-1">什么是 YooAsset？ <a class="header-anchor" href="#什么是-yooasset" aria-label="Permalink to &quot;什么是 YooAsset？&quot;">​</a></h2><p>YooAsset 是一个专为 Unity 游戏开发设计的高性能、轻量级的资源管理框架。它为开发者提供了一套完整的资源加载、热更新和版本管理解决方案，帮助开发者更高效地管理游戏资源，提升开发效率和游戏性能。</p><h2 id="核心特性" tabindex="-1">核心特性 <a class="header-anchor" href="#核心特性" aria-label="Permalink to &quot;核心特性&quot;">​</a></h2><h3 id="_1-多资源加载模式" tabindex="-1">1. 多资源加载模式 <a class="header-anchor" href="#_1-多资源加载模式" aria-label="Permalink to &quot;1. 多资源加载模式&quot;">​</a></h3><ul><li><strong>同步加载</strong>：适用于需要立即获取资源的场景，如游戏初始化阶段加载必要的 UI 资源。</li><li><strong>异步加载</strong>：在后台线程进行资源加载，不会阻塞主线程，保证游戏的流畅运行，常用于动态加载游戏场景资源。</li><li><strong>批量加载</strong>：支持同时加载多个资源，提高资源加载效率，比如在切换场景时批量加载新场景所需的所有资源。</li></ul><h3 id="_2-热更新功能" tabindex="-1">2. 热更新功能 <a class="header-anchor" href="#_2-热更新功能" aria-label="Permalink to &quot;2. 热更新功能&quot;">​</a></h3><ul><li><strong>增量更新</strong>：只更新发生变化的资源，减少玩家下载的数据量，节省流量和下载时间。</li><li><strong>版本管理</strong>：支持资源版本的管理和比对，确保玩家加载的是最新版本的资源。</li><li><strong>断点续传</strong>：在网络不稳定的情况下，支持断点续传功能，避免重新下载整个资源包。</li></ul><h3 id="_3-资源依赖管理" tabindex="-1">3. 资源依赖管理 <a class="header-anchor" href="#_3-资源依赖管理" aria-label="Permalink to &quot;3. 资源依赖管理&quot;">​</a></h3><ul><li><strong>自动解析依赖</strong>：YooAsset 会自动解析资源之间的依赖关系，确保在加载某个资源时，其依赖的所有资源也会被正确加载。</li><li><strong>引用计数管理</strong>：通过引用计数机制，自动管理资源的生命周期，避免资源的重复加载和内存泄漏。</li></ul><h3 id="_4-多平台支持" tabindex="-1">4. 多平台支持 <a class="header-anchor" href="#_4-多平台支持" aria-label="Permalink to &quot;4. 多平台支持&quot;">​</a></h3><ul><li>支持 Windows、Mac、Linux、Android、iOS 等主流平台，开发者可以使用统一的 API 进行资源管理，减少跨平台开发的复杂度。</li></ul><h2 id="工作原理" tabindex="-1">工作原理 <a class="header-anchor" href="#工作原理" aria-label="Permalink to &quot;工作原理&quot;">​</a></h2><h3 id="资源打包" tabindex="-1">资源打包 <a class="header-anchor" href="#资源打包" aria-label="Permalink to &quot;资源打包&quot;">​</a></h3><p>YooAsset 使用 Unity 的 AssetBundle 技术进行资源打包。开发者可以通过 YooAsset 提供的工具，将游戏资源按照一定的规则打包成 AssetBundle 文件。</p><h3 id="资源加载" tabindex="-1">资源加载 <a class="header-anchor" href="#资源加载" aria-label="Permalink to &quot;资源加载&quot;">​</a></h3><p>在游戏运行时，YooAsset 根据资源的路径和版本信息，从本地或远程服务器加载对应的 AssetBundle 文件，并解析其中的资源。在加载过程中，YooAsset 会自动处理资源的依赖关系和引用计数。</p><h3 id="热更新流程" tabindex="-1">热更新流程 <a class="header-anchor" href="#热更新流程" aria-label="Permalink to &quot;热更新流程&quot;">​</a></h3><ol><li><strong>版本检测</strong>：游戏启动时，YooAsset 会向服务器请求最新的资源版本信息，并与本地的资源版本进行比对。</li><li><strong>差异计算</strong>：如果发现有新版本的资源，YooAsset 会计算出需要更新的资源列表。</li><li><strong>资源下载</strong>：根据差异计算的结果，YooAsset 会从服务器下载需要更新的资源包，并进行校验。</li><li><strong>资源替换</strong>：下载完成后，YooAsset 会用新的资源替换旧的资源，确保游戏使用的是最新版本的资源。</li></ol><h2 id="快速上手" tabindex="-1">快速上手 <a class="header-anchor" href="#快速上手" aria-label="Permalink to &quot;快速上手&quot;">​</a></h2><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><p>可以通过 Unity 的 Package Manager 直接安装 YooAsset，也可以从 GitHub 上下载源码手动导入。</p><h3 id="基本使用示例" tabindex="-1">基本使用示例 <a class="header-anchor" href="#基本使用示例" aria-label="Permalink to &quot;基本使用示例&quot;">​</a></h3><div class="language-csharp"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">using</span><span style="color:#A6ACCD;"> YooAsset</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">using</span><span style="color:#A6ACCD;"> UnityEngine</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">YooAssetExample</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MonoBehaviour</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 初始化 YooAsset</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">initializeOperation</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> YooAssets</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Initialize</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">await</span><span style="color:#A6ACCD;"> initializeOperation</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Task</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 创建资源包</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> YooAssets</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CreatePackage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DefaultPackage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">await</span><span style="color:#A6ACCD;"> package</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">InitializeAsync</span><span style="color:#89DDFF;">().</span><span style="color:#A6ACCD;">Task</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 异步加载资源</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">loadHandle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> package</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">LoadAssetAsync</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">GameObject</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Prefabs/MyPrefab</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">await</span><span style="color:#A6ACCD;"> loadHandle</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Task</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">loadHandle</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Status </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> EOperationStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Succeed</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// 实例化资源</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">Instantiate</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">loadHandle</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">AssetObject</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#676E95;"># 应用场景</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#676E95;">## 游戏开发</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">大型游戏</span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">：大型游戏通常包含海量资源，YooAsset 凭借其强大的资源管理能力，能有效优化资源加载流程，减少内存占用，显著提升游戏运行性能，保障游戏的流畅度和稳定性。</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">频繁更新的游戏</span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">：借助 YooAsset 的热更新功能，开发者可快速修复游戏中的 bug、更新游戏内容，无需重新发布整个游戏，大大缩短了更新周期，提升玩家的游戏体验。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#676E95;">## 应用开发</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">教育类应用</span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">：教育类应用往往需要动态加载丰富的教学资源，如图片、视频、音频等。YooAsset 支持动态资源加载，方便内容的更新与管理，满足不同教学场景的需求。</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">展示类应用</span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">：展示类应用需要根据不同的展示需求灵活切换资源。YooAsset 能实现动态加载不同资源，提高应用的灵活性和适应性，为用户呈现多样化的展示效果。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#676E95;"># 总结</span></span>
<span class="line"><span style="color:#A6ACCD;">YooAsset 是一款功能强大且易于使用的资源管理框架，为 Unity 开发者提供了高效的资源加载、热更新和版本管理解决方案。无论是游戏开发还是应用开发，YooAsset 都能助力开发者提升开发效率，优化项目性能，创造出更优质的产品。</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>`,24)]))}const F=a(p,[["render",e]]);export{A as __pageData,F as default};
